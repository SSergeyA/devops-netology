# Sergey Sokolov
## Домашнее задание к занятию "10.06. Инцидент-менеджмент"
### Задание 1

Составьте постмотрем, на основе реального сбоя системы Github в 2018 году.  
|||
|---|---|
|Краткое описание инцидента |21 октября 2018г. в 22:52 UTC в результате регламентных работ по замене вышедшего из строя оптического оборудования произошло снижение качества обслуживания на 24 часа 1 минут  |
|Предшествующие события|Вышло из стороя сетевое оптическое оборудование между сетевым концентратором и дата центром на восточном побережье|
|Причина инцидента |Регламенные работы по замене вышедшего из строя оборудования вызвали потерю связи между хабом и дата центром на 43 секунды|
|Воздействие | На внутринние системы GitHub, что привело к отображению устаревшей и не последовательной информации, невозможность обслуслуживать вебхуки и создавать и публиковать сайты GitHub Pages |
|Обнаружение |Инженеры группы быстрого реагирования определили по предупреждениям мониторинга, что топологии многочисленных клстеров баз данных находятся в непредвиденном состоянии|
|Реакция | Уведомление координатора инцидентов, привлечение инженеров из группы разработки баз данных  GitHub. Инцидент устранили за 24ч 11м|
|Восстановление |Восстановление данных из резервных копий, синхронизация реплик на обоих сайтах затем возобновление обработки заданий в очереди |
|Таймлайн | ```21 октября в 22:52 UTC ``` в результате регламентных работ по замене вышедшего из строя оптического оборудования 100G была потеряна связь между  сетевым концентратором на восточном побережье США и нашим основным центром обработки данных на восточном побережье США. Связь между этими точками была восстановлена ​​за 43 секунды |
||```21 октября 22:52 UTC``` началось аварийное переключение кластеров для направление опрераций на запись в ЦОД на западном побережье. Когда подключение было восстановлено, Приложения начали  направлять трафик записи обратно на в ЦОД на восточном побережье|
||``` 21 октября 22:54 UTC``` инженеры увиделипо сообщениям мониторинга, что топологии многочисленных кластеров находятся в непредвиденном состоянии|
||```21 октября 23:07 UTC``` заблокирован инструмент развертывания, для предотвращения внесения изменений |
||```21 октября 23:09 UTC``` сайту присвоен желтый статус. извещен координатор инцидентов|
||```21 октября 23:11 UTC ``` присоединился координатор |
||```21 октября 23:13 UTC``` координатор меняет статус на красный. Проблема затронула несколько кластеров баз данных. Вызваны инженеры из группы разработки баз данных GitHub  |
||```21 октября 23:19 UTC``` остановлены вебхуки и сборки GitHub Pages| 
||```22 октября 00:05 UTC``` инженерами выработан план восстановления. Проинформированны пользователи |
||```22 октября 00:41 UTC``` запущен процесс резервного копирования всех затронутых кластеров. Паралельно ищутся решения ускрорения времени восстановления|
||```22 октября 06:51 UTC``` несколько кластеров завершили восстановление из резервных копий в нашем центре обработки данных на восточном побережье США и начали репликацию новых данных с западного побережья.|
||```22 октября 07:46 UTC``` публикация сообщения пользователям о приостановлении сборок|
||```22 октября 11:12 UTC``` восстановлены первичные базы данных в ЦОД на восточном побережье|
||```22 октября 13:15 UTC``` пиковая нагрузка трафика. Добавлены реплики чтения MySQL в общедоступном облаке |
||```22 октября 16:24 UTC``` реплики были синхронизированы.  Выполнено аварийное переключение на исходную топологию |
||```22 октября 16:45 UTC``` восстановление данных из очереди, обработка данных с пропущенным TTL, временное увеличение TTL |
||```22 октября 23:03 UTC``` все ожидающие сборки вебхуков и страниц были обработаны, и была подтверждена целостность и правильная работа всех систем. Статус сайта был обновлен до зеленого .
|Последующие действия | Проведение анализа  журналов  MySql и определение, какие записи могут быть автоматически согласованы, а какие потребуют взаимодействия с пользователями.|
|| Предоставление пользователям более точной информации о возобновлении сервиса  |
||Технические предложения: 1- Настройка Оркестратора 2- Новый механизм отчета о состоянии 3- дополнительный активный ЦОД |
