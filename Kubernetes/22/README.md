# Sergey Sokolov
## Домашнее задание к занятию 15.3 "Безопасность в облачных провайдерах"

Используя конфигурации, выполненные в рамках предыдущих домашних заданиях, нужно добавить возможность шифрования бакета.
### Задание 1. Яндекс.Облако (обязательное к выполнению)

    С помощью ключа в KMS необходимо зашифровать содержимое бакета:

    Создать ключ в KMS,
    С помощью ключа зашифровать содержимое бакета, созданного ранее.

    (Выполняется НЕ в terraform) *Создать статический сайт в Object Storage c собственным публичным адресом и сделать доступным по HTTPS

    Создать сертификат,
    Создать статическую страницу в Object Storage и применить сертификат HTTPS,
    В качестве результата предоставить скриншот на страницу с сертификатом в заголовке ("замочек").
### Ответ:
 По первой части задания создал kms ключ и добавил права kms.keys.encrypterDecrypter сервисному аккаунту. 
 Бакет создался и в него добавился зашиврованный файл с картинкой, но вот по доступу к файлу у меня возникли вопросы:  
 1- почему файл можно скачать только по длинной ссылке, которая генерится из консоли управления?  
   
 2- почему нельзя скачать файл по стандартной ссылке описанной в документации /имя бакета/ключ?  Access Denied.  
 Хотя я пробовал давать права  kms.keys.encrypterDecrypter на группу AllUsers  
   
 3- почему, когда я файлу еще и добавляю ACL права, ссылка, которая генерируется в консоли изменяется на стандартную и нет доступа на скачивание?  
 
 4- почему, когда я добавляю файлы из консоли в шифрованный бакет,(index.html например) ссылка на его скачивание генерируется обычная, и нет доступа его скачать?    
   
 5- Смысл задания по сайту я тоже до конца не понял, сайт создается изначально уже с рабочим сертификатом. И как можно создать на него отдельный сертификат тоже не совсем понятно, надо же или размещать по определеннному  URLкакой-то код, или деать запись на сайтт в ДНС, но эту зону поднимает яндекс, как я понимаю.   
   
 Выполнение Terraform![image](https://user-images.githubusercontent.com/93119897/219738491-e6fba001-c1df-4b94-bc7b-578e7681cf02.png)
Созданный KMS ключ![image](https://user-images.githubusercontent.com/93119897/219738597-980e56ec-5ae7-4fdf-a8ed-356526526d57.png)
Вот что пишет при попытке скачать по стандартной ссылке![image](https://user-images.githubusercontent.com/93119897/219738996-44dfdcc6-4784-428b-9e18-331a2e84761a.png)
Если заменяю ссылку на длинную. которую генерируется в консоли все скачивается![image](https://user-images.githubusercontent.com/93119897/219739220-d6d3be94-3999-48cb-ad58-cce9e6742dd8.png)
Загрузил index.html и он уже мне не предлагает длинную ссылку для скачивания, а короткую, по которой нет доступа![image](https://user-images.githubusercontent.com/93119897/219739382-72e29a6b-c5b8-46fb-9106-44d15c77f4ab.png)
Сайт уже с замочком изначально![image](https://user-images.githubusercontent.com/93119897/219741723-420e50b1-4b16-427a-99fc-90f74831a7d8.png)
