## Sergey Sokolov
### Задача 1
Для остановки запроса  необходимо его определить `db.currentOp({"active": true, "secs_running": {"$gt": 180}})` и потом удалить `db.killOp()`.</br>

Для решения проблемы с долгими запросами необходимо проанализировать лог этого запроса, понять сколько он потребляет ресурсов, возможно их нехватает.
Построить и проанализировать query plan этого запроса. возможно нужно настроить индексы или делать частичное извлечение данных из документа.
Так же причиной низкой производительности запросов могут быть блокировки, что указывает на необходимость оптимизации запроса, и недостаточный объем дискового
пространства.

###  Задание 2
У Redis в адаптивном режиме удаления ключей с истекшим сроком есть условие повторения операции при условии что в наборе ключей более 25% будут просрочены.
Таким образом если прирост ключей , которые потом устевают в одну и ту же секунду, превышает порог в 25%  Redis может блокировать запросы, чтобы получить процент 
устаревающих ключей ниже 25. Как я понял, это необходимо для того . что бы не выделять много памяти под уже не нужные ключи.Соответственно нужно уменьшить 
количество ключей с таким  ttl

###  Задание 3
По мануалу MySql возможны несколько причин такой ошибки:
1 Проблемы с сетью. Нужно проверить состояние сети, особенно если в ошибке присутствует фраза `during query`. Но иногда, эта фраза может обозначать слишком большое 
количество запросов, тогда стоит попробовать увеличить `net_read_timeout` с 30 сек. по умолчанию до 60 или больше.</br>
2 При слишком большом расстоянии или медленном соединении . попробовать увеличить `connect_timeout` до 10 секунд. Можно попробовать диагностировать командой 
`SHOW GLOBAL STATUS LIKE 'Aborted_connects'` значение будет увеличиваться после каждого обрыва</br>
3 Из-за больших значений Blob данных , которые могут превышать размер `max_allowed_packet` , значение которого надо тогда увеличивать. Может сопровождаться 
сообщением `ER_NET_PACKET_TOO_LARGE`</br>

###  Задание 4
Нехватает свободной оперативной памяти и система начинает освобождать память прибивая процессы ее использующие. Нужно или добавить память , что правильно, 
или ограничить ее выделение, чтоб не превышать расход.
